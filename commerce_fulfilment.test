<?php
/***********************************************************************************
 * This file is part of Commerce Fulfilment. A drupal module created to supplement *
 * the Drupal commerce module and ease the organization of shipments.              *
 * Authors: Dylan Harvey, Evan Schisler, Levi Weir, Parker Groenewoud              *
 *                                                                                 *
 * Project for COSC224 - Projects in Computer Science at Okanagan College.         *
 * Sponsored by AcroMedia                                                          *
 *                                                                                 *
 *                                                                                 *
 * Version: 1.0 - 16/03/15 - (Code before header)                                  *
 *          1.1 - 09/04/15 - (Code after header)                                   *
 *                                                                                 *
 * Originially from: http://choosealicense.com/licenses/mit/                       *
 * The MIT License (MIT)                                                           *
 *                                                                                 *
 *                                                                                 *
 *                                                                                 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy    *
 * of this software and associated documentation files (the "Software"), to deal   *
 * in the Software without restriction, including without limitation the rights    *
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *
 * copies of the Software, and to permit persons to whom the Software is           *
 * furnished to do so, subject to the following conditions:                        *
 *                                                                                 *
 * The above copyright notice and this permission notice shall be included in all  *
 * copies or substantial portions of the Software.                                 *
 *                                                                                 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *
 * SOFTWARE.                                                                       *
 **********************************************************************************/


/**
 * Tests the functionality of the Commerce_Fulfilment module pages and enteties
 */
class AcroCustomSiteSettingsTestCase extends DrupalWebTestCase {
  
//Tells the SimpleTest interface about our test in order to be able to run it
public static function getInfo() {
    return array(
      'name' => 'commerce_fulfilment_test1',
      'description' => 'Ensure that the commerce_fulfilment modules pages function properly.',
      'group' => 'commerce_fufillment_tests',
    );
  }

//Set up any requirements needed to run test, we will need a user with admin permissions
public function setUp() {
   
parent::setUp('commerce_fulfilment');
  	// Create an admin user.
  	$permissions = array(
  		'access administration pages',
  	);
  	$this->admin_user = $this->drupalCreateUser($permissions);
	
  }
	
public function testcommerce_fulfilment_menu(){
	//log user in
	$this->drupalLogin($this->admin_user);

         //Test base page(Packages page)
	$this->drupalGet('commerce/orders/2/commerce_fulfilment/orders');
	$this->assertResponse('404');

	//Test admin page
	$this->drupalGet('commerce/orders/2/commerce_fulfilment/admin');
	$this->assertResponse('404');
	
	//Test landing page for orders
	$this->drupalGet('admin/commerce/manage-orders/3/orders');
	$this->assertResponse('200');	
}

 public function testcommerce_fulfilment_packagesentity() {
    // Create 10 entities.
    for ($i = 1; $i <= 10; $i++) {
      $edit[$i]['package_id'] = $this->$i;
      $edit[$i]['commerce_fulfilment_text[und][0][value]'] = $this->$i;

	//check for enteties
      $this->drupalGet('orders/actions/manage-orders/commerce_fulfilment/2/orders' . $i);

    }
}
}
?>
